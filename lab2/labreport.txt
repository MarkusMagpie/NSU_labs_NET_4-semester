Вопросы: 
1 Зачем нужен DHCP-сервер в сети?
    DHCP-сервер обеспечивает назначение IP-адресов клиентам. Также сервер ведет таблицу выделенных IP адресов, чтобы избежать дублирования.

    Уточнение: DHCP также предоставляет другие параметры сети (маску подсети, шлюз, DNS-серверы).

2 Что произойдёт, если в одной сети будет несколько DHCP-серверов?
    В таком случае клиент отправит всем серверам сообщение DHCP Discover по широковещательному MAC-адресу. 
    Все сервера отправят в ответ DHCP Offer с уникальным IP-адресом.
    Но клиент выберет лишь первый полученный IP адрес из DHCP Offer и включит выбранный во все DHCP Request сообщения. 
    Итого ответит на Request только тот сервер, который опознает свой уникальный IP-адрес. Он вернет сообщение DHCP Ack, 
        остальные сервера вернут клиенту DHCP Nack, IP адреса освобождаются.

3 Как клиент обнаруживает DHCP-сервер в сети?
    С помощью сообщения DHCP Discover на широковещательный MAC-адрес FF:FF:FF:FF:FF:FF - это сообщение примут все компьютеры в данной подсети.
        Если сервер в другой подсети, используется конфигурация маршрутизаторов DHCP Relay agent - передает такой широковещательный трафик,
            который относится к DHCP. 

Практика:
1 DHCP-сервер
    0 sudo wireshark 
        начни захват dhcp пакетов для показа процесса назначения IP-адреса
    1 терминал: 
        sudo dhclient -r wlp0s20f3 - перед получением IP адреса нужно освободить тот который уже есть у клиента (DHCP Release)
        ip a - определил интерфейс с состоянием UP
        g++ dhcp_server.cpp -o dhcp_server -lpthread
        sudo ./dhcp_server
    2 терминал:
        sudo dhclient -v -d wlp0s20f3 - запустил клиента DHCP на нужном интерфейсе
            -v - вывод подробной информации
            -d - не переходить в фоновый режим (удобно для отладки)
    3 терминал:
        ip a show wlp0s20f3 - проверяю что IP присвоен. В выводе должен появиться IP-адрес из пула сервера.

    вариант показа: сначала НЕ удалять IP адрес -> в вайршарке будет только Request и Ack; затем удалить -> Release; и затем уже делать DORA

    пояснения к структуре DHCPPacket: https://support.huawei.com/enterprise/en/doc/EDOC1100174721/2b689419/dhcp

    логика работы:
        1) клиент отправляет DHCP Discover (широковещательный запрос)
        2) в handleDiscover() проверяем packet.chaddr - MAC адрес клиента: если он новый - выделяем IP из пула, если уже есть - используем currentIP++
           в этой же функции формируем DHCP Offer с предложенным адресом клиента
           sendto отправляет offer по сокету клиенту
        3) тут я показываю в вайршарке захваченные пакеты  



2 модернизация программы из 1 лабы ClientComputer2.cpp -> dhcp_client.cpp
    программа осталась такой же только теперь client.ip получаем из новой функции get_dhcp_ip(client.mac)
    0 sudo wireshark
    1 терминал: 
        g++ dhcp_server2.cpp -o dhcp_server -lpthread
        sudo ./dhcp_server
    2 терминал:
        g++ dhcp_client.cpp -o client
        sudo ./client 

    логика работы функции get_dhcp_ip:
        
    